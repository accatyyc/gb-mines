#include <gb/gb.h>
#include <gb/drawing.h>
#include "game.h"

#define GRID_WIDTH 20
#define GRID_HEIGHT 18

unsigned char tiles[] =
{
	0x00,0x00,0x00,0x00,0x00,0x00,0x18,0x00, // 0
	0x18,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
	0x00,0x00,0x1C,0x1C,0x04,0x04,0x04,0x04, // 1
	0x04,0x04,0x04,0x04,0x04,0x04,0x1F,0x1F,
	0x00,0x00,0x3C,0x3C,0x04,0x04,0x04,0x04, // 2
	0x3C,0x3C,0x20,0x20,0x20,0x20,0x3C,0x3C,
	0x00,0x00,0x3C,0x3C,0x04,0x04,0x04,0x04, // 3
	0x3C,0x3C,0x04,0x04,0x04,0x04,0x3C,0x3C,
	0x00,0x00,0x24,0x24,0x24,0x24,0x24,0x24, // 4
	0x3C,0x3C,0x04,0x04,0x04,0x04,0x04,0x04,
	0x00,0x00,0x3C,0x3C,0x20,0x20,0x20,0x20, // 5
	0x3C,0x3C,0x04,0x04,0x04,0x04,0x3C,0x3C,
	0x00,0x00,0x3C,0x3C,0x20,0x20,0x20,0x20, // 6
	0x3C,0x3C,0x24,0x24,0x24,0x24,0x3C,0x3C,
	0x00,0x00,0x3C,0x3C,0x04,0x04,0x04,0x04, // 7
	0x0E,0x0E,0x04,0x04,0x04,0x04,0x04,0x04,
	0x00,0x00,0x3C,0x3C,0x24,0x24,0x24,0x24, // 8
	0x3C,0x3C,0x24,0x24,0x24,0x24,0x3C,0x3C,
	0x00,0x00,0x00,0x7E,0x00,0x7E,0x00,0x7E, // Unopened
	0x00,0x7E,0x00,0x7E,0x00,0x7E,0x00,0x00,
	0x00,0x00,0x08,0x08,0x18,0x18,0x38,0x38, // Flagged
	0x18,0x18,0x08,0x08,0x08,0x08,0x00,0x00,
	0x00,0x00,0x7E,0x7E,0x7E,0x7E,0x7E,0x7E, // Blacked
	0x7E,0x7E,0x7E,0x7E,0x7E,0x7E,0x00,0x00
};

enum tile {
	Zero = 0,
	One = 1,
	Two = 2,
	Three = 3,
	Four = 4,
	Five = 5,
	Six = 6,
	Seven = 7,
	Eight = 8,
	Unopened = 9,
	Flagged = 10,
	Blacked = 11
};

void set_tile(int x, int y, unsigned char tile)
{
	set_bkg_tiles(x, y, 1, 1, &tile);
}

void init()
{
	int x, y;
	set_bkg_data(0, 12, tiles);
	for (x = 0;x<GRID_WIDTH;x += 1)
	{
		for (y = 0;y < GRID_HEIGHT;y += 1)
		{
			set_tile(x, y, Unopened);
		}
	}
}

void play_game()
{
	init();
	set_tile(2, 10, Zero);
	set_tile(3, 10, One);
	set_tile(4, 10, Two);
	set_tile(5, 10, Three);
	set_tile(6, 10, Four);
	set_tile(7, 10, Five);
	set_tile(8, 10, Six);
	set_tile(9, 10, Seven);
	set_tile(10, 10, Eight);
	set_tile(11, 10, Flagged);
	set_tile(12, 10, Blacked);
	
}